%美赛模板：正文部分

%模板中需要使用Xelatex编译两次，所以可以反复尝试编译
\documentclass[12pt]{article}  % 官方要求字号不小于 12 号，此处选择 12 号字体
% \linespread{1.1} %可选：设置行间距1.1倍
% 本模板不需要填写年份，以当前电脑时间自动生成
% 请在以下的方括号中填写队伍控制号
\usepackage[2618558]{easymcm}  % 载入 EasyMCM 模板文件
\problem{A}  % 请在此处填写题号
% \usepackage{mathptmx}  % 这是 Times 字体，中规中矩 
\usepackage{palatino}  % mathpazo 这palatino是 COMAP 官方杂志采用的更好看的 Palatino 字体，可替代以上的 mathptmx 宏包
\usepackage{pdfpages}
\usepackage{longtable} %长表格包
\usepackage{tabu}
\usepackage{threeparttable}
\usepackage{listings} %代码排版包
\usepackage{paralist} %压缩列表环境包（紧凑列表）
\usepackage{makecell} %表格换行包
\usepackage{multirow} %表格排版包
\usepackage[version=4]{mhchem}   %化学公式排版包
%\usepackage{fourier} %使用花里胡哨符号的宏包
%------------------------------------------代码排版包(待研究)
%    \usepackage{minted}  %代码排版包
%    \usepackage{caption} %浮动体包
%    \usepackage{xcolor}
\usepackage{matlab-prettifier} %MATLAB代码排版包
\usepackage{tcolorbox} %美丽盒子包
%    \tcbuselibrary{skins}
%    \tcbuselibrary{minted}
\tcbuselibrary{listings,skins,breakable,xparse}
%    \usemintedstyle{lovelace} %特定代码配色环境
%\tcbuselibrary{breakable}


\usepackage{pgfornament} %花样装饰包(待研究)
\usepackage[ruled,linesnumbered]{algorithm2e} %伪代码排版包
\usepackage{tikz} %绘图包
\usetikzlibrary{arrows.meta, positioning, calc}
\usepackage{wrapfig} %图文环绕包
\usepackage{float} %精确位置控制包
\usepackage{lettrine} %首字下沉包
%-------------------------------------------交叉引用实现包
\usepackage{hyperref}
\usepackage{cleveref}

\graphicspath{{img/}}          % 此处{img/}为相对路径，注意加上“/”
\let\itemize\compactitem{}
\let\enditemize\endcompactitem{}
%-------------------------------------------附录代码排版盒子（起）
 \tcbset{%
 mylist/.style = {%
  colframe = gray,
  colback = white,
  coltitle = red!50!yellow!3!white,
  colbacktitle = white,
  listing only,
  attach boxed title to top center = {yshift = -\tcboxedtitleheight/2},
  enhanced,
  drop fuzzy shadow, % shadow around listings
  left = 6.5mm, % distance between left rule and line number 
  breakable, % enable listing box to break by page
  %enhanced jigsaw, % box not being closed when broken by page
  fonttitle=\small\bfseries\color{black}, % customise font of listing title
  before skip=20pt plus 2pt, % vertical space between listings and text
  after skip=20pt plus 2pt,
 },
 example/.style 2 args = {%
  mylist,
  title = {Listing \thetcbcounter: #1},
  label = {#2},
 },
 }
 \newtcblisting[auto counter, number within = section, list inside = mcode]{matlab}[3][]{%
  listing options = {%
   style = Matlab-editor,
   numbers = left,
   numberstyle = \footnotesize\color{darkgray}\fontfamily{pcr}\selectfont,
   basicstyle = \footnotesize\fontfamily{pcr}\selectfont,
   breaklines = true,  % 启用自动换行
   breakatwhitespace = true,  % 在空格处换行
   postbreak = \mbox{\textcolor{gray}{$\hookrightarrow$}\space}  % 换行指示符
  },
  overlay = {\begin{tcbclipinterior}\fill[blue!15!white] (frame.south west) rectangle ([xshift=5.3mm]frame.north west);\end{tcbclipinterior}},
  example = {#2}{#3}, #1,
 }
 
 % Python代码盒子定义 - 与MATLAB配色统一
 \newtcblisting[auto counter, number within = section, list inside = pcode]{python}[3][]{%
  listing options = {%
   language = Python,
   numbers = left,
   numberstyle = \footnotesize\color{darkgray}\fontfamily{pcr}\selectfont,
   basicstyle = \footnotesize\fontfamily{pcr}\selectfont,
   keywordstyle = \color{darkblue}\bfseries,
   commentstyle = \color{darkgreen},
   stringstyle = \color{red!60},
   showstringspaces = false,
   emphstyle = \color{orange!60},
   emph = {self, cls, True, False, None},
   breaklines = true,  % 启用自动换行
   breakatwhitespace = true,  % 在空格处换行
   postbreak = \mbox{\textcolor{gray}{$\hookrightarrow$}\space}  % 换行指示符
  },
  overlay = {\begin{tcbclipinterior}\fill[blue!15!white] (frame.south west) rectangle ([xshift=5.3mm]frame.north west);\end{tcbclipinterior}},
  example = {#2}{#3}, #1,
 }
%-------------------------------------------附录代码排版盒子（止）

% AI报告专用代码高亮样式（无边框，支持跨页）
\lstdefinestyle{ai_python_style}{
    language = Python,
    numbers = none,  % 去掉行号
    basicstyle = \footnotesize\fontfamily{pcr}\selectfont,
    keywordstyle = \color{darkblue}\bfseries,
    commentstyle = \color{darkgreen},
    stringstyle = \color{red!60},
    showstringspaces = false,
    emphstyle = \color{orange!60},
    emph = {self, cls, True, False, None},
    breaklines = true,
    breakatwhitespace = true,
    postbreak = \mbox{\textcolor{gray}{$\hookrightarrow$}\space},
    frame = none,  % 无边框
    backgroundcolor = \color{white},
    xleftmargin = 0pt,
    xrightmargin = 0pt,
    framexleftmargin = 0pt,
    framexrightmargin = 0pt,
    framextopmargin = 0pt,
    framexbottommargin = 0pt
}

\lstdefinestyle{ai_matlab_style}{
    style = Matlab-editor,
    numbers = none,  % 去掉行号
    basicstyle = \footnotesize\fontfamily{pcr}\selectfont,
    breaklines = true,
    breakatwhitespace = true,
    postbreak = \mbox{\textcolor{gray}{$\hookrightarrow$}\space},
    frame = none,  % 无边框
    backgroundcolor = \color{white},
    xleftmargin = 0pt,
    xrightmargin = 0pt,
    framexleftmargin = 0pt,
    framexrightmargin = 0pt,
    framextopmargin = 0pt,
    framexbottommargin = 0pt
}

\lstnewenvironment{ai_python}[1][]
    {\lstset{style=ai_python_style, #1}}
    {}

\lstnewenvironment{ai_matlab}[1][]
    {\lstset{style=ai_matlab_style, #1}}
    {}

\input{new_command.tex} %载入新命令
%\newcommand{\upcite}[1]{\textsuperscript{\textsuperscript{\cite{#1}}}} %
\title{Better Battery Usage: \\ From the Insights of Modeling}  % 标题

% 如需要修改题头（默认为 MCM/ICM），请使用以下命令（此处修改为 MCM）
%\renewcommand{\contest}{MCM}


%--------------------------------------------文档开始
\begin{document}

% 此处填写摘要内容
\begin{abstract}

    It is widely complained that smartphone battery level is inaccurate and drains too fast during daily use. Actually, smartphone Li-ion batteries are 
    complex electrochemical systems influenced by various factors, such as temperature, power demand, and device heating. To optimize battery usage and
    extend battery life, it is crucial to understand how these factors affect battery performance. In this paper, we develop an equivalent model to 
    analyze and predict the performance of Li-ion batteries in smartphones under various operating conditions.

    We started by constructing a simplest reasonable model based on ideal battery assumptions, which provides a foundational understanding of battery 
    behavior. A 2-order Thevenin model is built without considering temperature, power demand, smartphone heating and other factors. Then dataset from 
    related HPPC tests are used to identify the model parameters. Because the differential equation could not be solved analytically, numerical methods are 
    employed to validate the model, showing logical and intuitive results.

    Next, we refined the model by incorporating real-world factors. The Arrhenius equation is introduced to account for temperature effects on battery 
    performance. It is observed that the internal resistance increases exponentially with decreasing temperature, leading to higher voltage drops under 
    load. We also considered the decomposition of smartphone power consumption, revealing that components like the data network and CPU significantly impact 
    battery drain. With these results, we further analyzed smartphones' self-heating effect during operation, which in turn affects battery temperature and
    performance. All of the results above should answer Problem 1 and Problem 2.

    Then, a sensitivity analysis was conducted to identify the most influential parameters affecting battery life and performance. It has not escaped our 
    eyes that $SOC$-dependent(so time-dependent) parameters, such as internal resistance and capacity, capture the sudden degradation behavior of 
    batteries at low $SOC$. Simply setting those parameters as constants may lead to significant errors in long-term predictions. We also applied 
    numerical distribution to parameters, quantifying the uncertainty in model outputs due to parameter variability in different scenarios. This part 
    should answer Problem 3.

    Finally, based on the insights gained from our modeling and analysis, we provided practical recommendations for optimizing battery usage in smartphones.
    This part should answer Problem 4.

    \vspace{5pt}  %mm	毫米	1 mm = 2.845 pt   pt 点	1 pt = 0.351 mm
    \textbf{Keywords: Smartphone; Li-ion Battery; 2-Order Thevenin Model; Arrhenius Equation; Sensitivity Analysis}

\end{abstract}
\maketitle  % 生成 Summary Sheet

\tableofcontents  % 生成目录
\input{1-introduction}
\input{2-notations}
\input{3-ideal_battery}
\input{4-actual_battery}
\input{5-sensitivity_analysis}
\input{6-recommendations}

\newpage
\input{7-appendix}
\input{8-references}
\label{LastMainPage}  % 标记正文最后一页，用于页眉“Page X of Y”
\input{9-ai_use_report}

\end{document}